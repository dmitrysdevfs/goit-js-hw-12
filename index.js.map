{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createdGalleryCardTemplate = imgInfo => {\n  const uniqueTags = [\n    ...new Set(imgInfo.tags.split(',').map(tag => tag.trim())),\n  ].join(', ');\n\n  return `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${imgInfo.largeImageURL}\">\n        <figure class=\"gallery-figure\">\n          <img\n            class=\"gallery-image\"\n            src=\"${imgInfo.webformatURL}\"\n            alt=\"${uniqueTags}\"\n          />\n          <figcaption class=\"image-stats\">\n            <div class=\"stat-item\">\n              <p class=\"stat-label\">Likes</p>\n              <p class=\"stat-value\">${imgInfo.likes}</p>\n            </div>\n            <div class=\"stat-item\">\n              <p class=\"stat-label\">Views</p>\n              <p class=\"stat-value\">${imgInfo.views}</p>\n            </div>\n            <div class=\"stat-item\">\n              <p class=\"stat-label\">Comments</p>\n              <p class=\"stat-value\">${imgInfo.comments}</p>\n            </div>\n            <div class=\"stat-item\">\n              <p class=\"stat-label\">Downloads</p>\n              <p class=\"stat-value\">${imgInfo.downloads}</p>\n            </div>\n          </figcaption>\n        </figure>\n      </a>\n    </li>\n  `;\n};\n","import axios from 'axios';\n\nconst apiKey = import.meta.env.VITE_API_KEY;\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotosByQuery = searchedQuery => {\n  const searchParams = new URLSearchParams({\n    key: apiKey,\n    q: searchedQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return axios.get(`${BASE_URL}?${searchParams}`);\n\n  // return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n  //   if (!response.ok) {\n  //     throw new Error(response.status);\n  //   }\n\n  //   return response.json();\n  // });\n};\n","import { createdGalleryCardTemplate } from './js/render-functions';\nimport { fetchPhotosByQuery } from './js/pixabay-api';\nimport SimpleLightbox from 'simplelightbox';\nimport iziToast from 'izitoast';\n\nconst searchFormEl = document.querySelector('.js-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.loader-wrapper');\n\nconst toastSettings = {\n  messageSize: '16',\n  messageColor: 'white',\n  backgroundColor: 'red',\n  position: 'topRight',\n  icon: 'fa-regular fa-circle-xmark',\n  progressBar: false,\n  timeout: 2000,\n  close: false,\n  maxWidth: '360px',\n};\n\nconst onSearchFormSubmit = async event => {\n  try {\n    event.preventDefault();\n\n    const searchedQuery =\n      event.currentTarget.elements.search_query.value.trim();\n\n    if (searchedQuery === '') {\n      iziToast.show({\n        message: 'The field must be filled!',\n        ...toastSettings,\n      });\n\n      return;\n    }\n\n    showLoader();\n    galleryEl.innerHTML = '';\n\n    const { data } = await fetchPhotosByQuery(searchedQuery);\n    if (data.total === 0) {\n      iziToast.show({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        ...toastSettings,\n      });\n\n      galleryEl.innerHTML = '';\n\n      hideLoader();\n\n      searchFormEl.reset();\n\n      return;\n    }\n\n    const galleryTemplate = data?.hits\n      .map(el => createdGalleryCardTemplate(el))\n      .join('');\n\n    galleryEl.innerHTML = galleryTemplate;\n\n    hideLoader();\n\n    searchFormEl.reset();\n\n    let lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n\n    lightbox.refresh();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n\nfunction showLoader() {\n  loaderEl.style.display = 'flex';\n}\n\nfunction hideLoader() {\n  loaderEl.style.display = 'none';\n}\n"],"names":["createdGalleryCardTemplate","imgInfo","uniqueTags","tag","apiKey","BASE_URL","fetchPhotosByQuery","searchedQuery","searchParams","axios","searchFormEl","galleryEl","loaderEl","toastSettings","onSearchFormSubmit","event","iziToast","showLoader","data","hideLoader","galleryTemplate","el","SimpleLightbox","error"],"mappings":"owBAAO,MAAMA,EAA6BC,GAAW,CACnD,MAAMC,EAAa,CACjB,GAAG,IAAI,IAAID,EAAQ,KAAK,MAAM,GAAG,EAAE,IAAIE,GAAOA,EAAI,KAAM,CAAA,CAAC,CAC7D,EAAI,KAAK,IAAI,EAEX,MAAO;AAAA;AAAA,sCAE6BF,EAAQ,aAAa;AAAA;AAAA;AAAA;AAAA,mBAIxCA,EAAQ,YAAY;AAAA,mBACpBC,CAAU;AAAA;AAAA;AAAA;AAAA;AAAA,sCAKSD,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,sCAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAOvD,EClCMG,EAAS,qCACTC,EAAW,2BAEJC,EAAsCC,GAAA,CAC3C,MAAAC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAAA,CACb,EAED,OAAOE,EAAM,IAAI,GAAGJ,CAAQ,IAAIG,CAAY,EAAE,CAShD,EClBME,EAAe,SAAS,cAAc,UAAU,EAChDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,iBAAiB,EAEnDC,EAAgB,CACpB,YAAa,KACb,aAAc,QACd,gBAAiB,MACjB,SAAU,WACV,KAAM,6BACN,YAAa,GACb,QAAS,IACT,MAAO,GACP,SAAU,OACZ,EAEMC,EAAqB,MAAMC,GAAS,CACxC,GAAI,CACFA,EAAM,eAAc,EAEpB,MAAMR,EACJQ,EAAM,cAAc,SAAS,aAAa,MAAM,KAAI,EAEtD,GAAIR,IAAkB,GAAI,CACxBS,EAAS,KAAK,CACZ,QAAS,4BACT,GAAGH,CACX,CAAO,EAED,MACD,CAEDI,IACAN,EAAU,UAAY,GAEtB,KAAM,CAAE,KAAAO,CAAM,EAAG,MAAMZ,EAAmBC,CAAa,EACvD,GAAIW,EAAK,QAAU,EAAG,CACpBF,EAAS,KAAK,CACZ,QACE,2EACF,GAAGH,CACX,CAAO,EAEDF,EAAU,UAAY,GAEtBQ,IAEAT,EAAa,MAAK,EAElB,MACD,CAED,MAAMU,EAAkBF,GAAA,YAAAA,EAAM,KAC3B,IAAIG,GAAMrB,EAA2BqB,CAAE,GACvC,KAAK,IAERV,EAAU,UAAYS,EAEtBD,IAEAT,EAAa,MAAK,EAEH,IAAIY,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GACpB,CAAK,EAEQ,QAAO,CACjB,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,EAEAb,EAAa,iBAAiB,SAAUI,CAAkB,EAE1D,SAASG,GAAa,CACpBL,EAAS,MAAM,QAAU,MAC3B,CAEA,SAASO,GAAa,CACpBP,EAAS,MAAM,QAAU,MAC3B"}